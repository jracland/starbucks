(self.webpackChunkcore=self.webpackChunkcore||[]).push([[1183],{53737:function(e,t,r){"use strict";r.d(t,{lB:function(){return a},$N:function(){return n},R9:function(){return i},Uy:function(){return o},eC:function(){return s},_l:function(){return l},rY:function(){return c},oC:function(){return d},kc:function(){return m},K5:function(){return u},sL:function(){return E},Jz:function(){return p}});const a="FETCH_PERSONAL",n="FETCH_PERSONAL_SUCCESS",i="FETCH_PERSONAL_ERROR",o="MUTATE_PERSONAL",s="MUTATE_PERSONAL_SUCCESS",l="MUTATE_PERSONAL_ERROR",c="MUTATE_PARTNER",d="MUTATE_PARTNER_SUCCESS",m="MUTATE_PARTNER_ERROR",u="MUTATE_BIRTHDATE",E="MUTATE_BIRTHDATE_SUCCESS",p="MUTATE_BIRTHDATE_ERROR"},1641:function(e,t,r){"use strict";r.d(t,{so:function(){return n},OF:function(){return i},Yo:function(){return o},V8:function(){return s},sO:function(){return l},jn:function(){return c},yo:function(){return d},gE:function(){return m},ms:function(){return u},Ei:function(){return E},or:function(){return p},yZ:function(){return g},S8:function(){return f},ps:function(){return C},rJ:function(){return b},Bq:function(){return _},Ny:function(){return w},cr:function(){return T},BQ:function(){return y},_M:function(){return h},IG:function(){return R},pL:function(){return N},IN:function(){return A},UG:function(){return O},y3:function(){return H},ch:function(){return S}});var a=r(59810);const n="SHOW_GENERIC_PASSWORD_ERROR",i="HIDE_GENERIC_PASSWORD_ERROR",{CONFIRM_EMAIL_CODE:o,CONFIRM_EMAIL_CODE_ERROR:s,CONFIRM_EMAIL_CODE_SUCCESS:l,FETCH_USER_COMMUNICATION_PREFERENCES:c,FETCH_USER_COMMUNICATION_PREFERENCES_SUCCESS:d,FETCH_USER_COMMUNICATION_PREFERENCES_ERROR:m,UPDATE_USER_COMMUNICATION_PREFERENCES:u,UPDATE_USER_COMMUNICATION_PREFERENCES_SUCCESS:E,UPDATE_USER_COMMUNICATION_PREFERENCES_ERROR:p,SAVE_PASSWORD:g,SAVE_PASSWORD_SUCCESS:f,SAVE_PASSWORD_ERROR:C,REQUEST_EMAIL_VALIDATION_CODE:b,REQUEST_EMAIL_VALIDATION_CODE_SUCCESS:_,REQUEST_EMAIL_VALIDATION_CODE_ERROR:w,ADD_MFA_PHONE:T,ADD_MFA_PHONE_SUCCESS:y,ADD_MFA_PHONE_ERROR:h,EDIT_MFA_PHONE:R,EDIT_MFA_PHONE_SUCCESS:N,EDIT_MFA_PHONE_ERROR:A,DELETE_MFA_PHONE:O,DELETE_MFA_PHONE_SUCCESS:H,DELETE_MFA_PHONE_ERROR:S}=(0,a.Z)(["CONFIRM_EMAIL_CODE","FETCH_USER_COMMUNICATION_PREFERENCES","UPDATE_USER_COMMUNICATION_PREFERENCES","SAVE_PASSWORD","REQUEST_EMAIL_VALIDATION_CODE","ADD_MFA_PHONE","EDIT_MFA_PHONE","DELETE_MFA_PHONE"])},66511:function(e,t,r){"use strict";r.d(t,{V8:function(){return n},U8:function(){return i},AA:function(){return o},kH:function(){return s},pV:function(){return l},G2:function(){return c},Fe:function(){return d},uA:function(){return m},QS:function(){return u},Th:function(){return E},wC:function(){return p},Lw:function(){return g},xT:function(){return f},ow:function(){return C},VX:function(){return b},QH:function(){return _},Fd:function(){return w},Qy:function(){return T},sB:function(){return y},MY:function(){return h},R$:function(){return R},BC:function(){return N},Hk:function(){return A},ZK:function(){return O},eN:function(){return H},Nq:function(){return S},s7:function(){return D},w0:function(){return P},Qk:function(){return I},YH:function(){return U},gi:function(){return L},G7:function(){return k},Vp:function(){return x},qH:function(){return v},cE:function(){return M},ec:function(){return F},Br:function(){return B},wp:function(){return j}});var a=r(59810);const n="PRODUCTS_ARE_LOADING",i="PRODUCTS_DID_FAIL",o="PRODUCTS_DID_LOAD",s="CLEAR_ORDER_PRICING",l="CLEAR_CURRENT_CART",c="CLEAR_CART_AVAILABLE_REWARDS",d="SET_APPLY_CART_OFFER",m="SHOULD_FETCH_PRICING",u="SELECT_STORE_MENU",E="CLEAR_STORE_MENU",p="SELECT_PICKUP_OPTION",g="SET_LOCATION_BY_ID",f="CLEAR_ORDER_STATUS",C="SET_ORDER_METHOD",b="UPDATE_AVAILABILITY",_="AVAILABILITY_CORRECT",w="ADD_PRODUCT_TO_CART",T="ADD_PRODUCTS_TO_CART",y="CHANGE_QUANTITY",h="HIDE_ADDED_PRODUCT_NOTIFICATION",R="UPDATE_ORDER_DELIVERY_TYPE",N="REWARD_REDEEMED",A="INVALIDATE_MOST_RECENT_ORDER",{SUBMIT_ORDER:O,SUBMIT_ORDER_SUCCESS:H,SUBMIT_ORDER_ERROR:S,FETCH_ORDER_PRICING:D,FETCH_ORDER_PRICING_SUCCESS:P,FETCH_ORDER_PRICING_ERROR:I,FETCH_FAVORITE_PRODUCTS:U,FETCH_FAVORITE_PRODUCTS_SUCCESS:L,FETCH_FAVORITE_PRODUCTS_ERROR:k,SAVE_FAVORITE_PRODUCT:x,SAVE_FAVORITE_PRODUCT_SUCCESS:v,SAVE_FAVORITE_PRODUCT_ERROR:M,REMOVE_FAVORITE_PRODUCT:F,REMOVE_FAVORITE_PRODUCT_SUCCESS:B,REMOVE_FAVORITE_PRODUCT_ERROR:j}=(0,a.Z)(["SUBMIT_ORDER","FETCH_ORDER_PRICING","FETCH_FAVORITE_PRODUCTS","SAVE_FAVORITE_PRODUCT","REMOVE_FAVORITE_PRODUCT"])},52186:function(e,t,r){"use strict";var a=r(20957),n=r(30485),i=r(44484),o=r(75502),s=r(27359),l=r(67294),c=r(99095),d=r(64593),m=r(64916),u=(0,c.vU)({joinInAppCTA:{id:"rewards.shared.joinInAppCTA"},title:{id:"rewards.shared.pageTitle"},rewardsDescription:{id:"rewards.shared.pageDescription"},errorHeading:{id:"rewards.shared.errorHeading"}}),E=r(28216),p=r(50910),g=r(47982),f=(r(45697),r(94184)),C=r.n(f),b=r(28837),_=r(23590),w=r(83837);function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},T.apply(this,arguments)}const y=e=>{let{containerClasses:t,contentClasses:r,imageUrl:a,imageAlt:n,imageProps:i,onImageClick:o,headingProps:s,subHeading:c,description:d,ctas:m,imagePosition:u="left"}=e;return l.createElement("div",{className:C()({[t]:Boolean(t),"cardContainer___2Mke-":!t})},l.createElement(_.default,{src:a},(e=>{let{completed:t,source:r,width:a}=e;return t?l.createElement("div",{className:C()("".concat("image___1wlkl"," text-center flex-shrink-none"),{"pr3 m0":"left"===u,pb4:"top"===u,"cursor-pointer":Boolean(o)}),onClick:()=>o&&o()},l.createElement(w.default,T({alt:n,src:r,width:"".concat(a/2)},i))):l.createElement("div",null)})),l.createElement("div",{className:C()({[r]:Boolean(r),cardContent___xJLcu:!r,"text-left":"left"===u,"text-center":"top"===u})},s&&l.createElement(b.default,{className:"pb1",className:"text-semibold",size:"sm",tagName:s.tagName||"h2"},s.message),c&&l.createElement("p",{className:"".concat("subHeading___B4rFe"," color-textBlackSoft text-xxs")},c),d&&l.createElement("p",{className:c?"pt1":"pt3"},d),m))};y.propTypes={};var h=y;const R=e=>{let{isMobileViewport:t,content:r,header:a={}}=e;const{heading:n,subHeading:i}=a;return l.createElement(l.Fragment,null,l.createElement("div",{className:"size12of12 md-offset2of12 md-size8of12 lg-offset3of12 lg-size6of12 text-center"},n&&l.createElement(b.default,{className:"text-semibold",size:"lg",tagName:"h2"},n),i&&l.createElement("p",{className:"text-center pt3"},i)),l.createElement("div",{className:"multiThumbnailsRow___3nhNw"},r.map(((e,a)=>l.createElement(h,{containerClasses:C()("flex size12of12 md-size4of12 md-pb0",{"flex-column":!t,"md-mr4":0===a,"md-mx4":1===a,"md-ml4":2===a,pb5:a!==r.length-1}),ctas:e.ctas,description:e.description,headingProps:{message:e.heading},imageAlt:e.imageAlt,imagePosition:t?"left":"top",imageProps:e.imageProps,imageUrl:e.imageUrl,key:"thumbnailContentBlock-".concat(a),onImageClick:e.onImageClick})))))};R.propTypes={};var N=(0,E.$j)((e=>({isMobileViewport:(0,s.td)(e)})))(R),A=r(22368),O=r(37059),H=r(11990),S=r.n(H);const{host:D,path:P}=O.default.get("universal.staticUrls.images",{}),I=S()(D,P),U="ways-to-pay",L="#waystopay",k=(e,t)=>{e&&(e.scrollIntoView(),window.scrollY&&window.scroll({left:0,top:window.scrollY-t,behavior:"smooth"}))},x=(0,c.vU)({headingContent1:{id:"rewards.benefits.slides.funFreebies.1.headingContent"},bodyContent1:{id:"rewards.benefits.slides.funFreebies.1.bodyContent"},headingContent2:{id:"rewards.benefits.slides.funFreebies.2.headingContent"},bodyContent2:{id:"rewards.benefits.slides.funFreebies.2.bodyContent"},headingContent3:{id:"rewards.benefits.slides.funFreebies.3.headingContent"},bodyContent3:{id:"rewards.benefits.slides.funFreebies.3.bodyContent"}}),v=(0,c.vU)({headingContent1:{id:"rewards.benefits.slides.orderAndPayAhead.1.headingContent"},bodyContent1:{id:"rewards.benefits.slides.orderAndPayAhead.1.bodyContent"},headingContent2:{id:"rewards.benefits.slides.orderAndPayAhead.2.headingContent"},bodyContent2:{id:"rewards.benefits.slides.orderAndPayAhead.2.bodyContent"}}),M=(0,c.vU)({headingContent1:{id:"rewards.benefits.slides.getToFreeFaster.1.headingContent"},bodyContent1:{id:"rewards.benefits.slides.getToFreeFaster.1.bodyContent"},headingContent2:{id:"rewards.benefits.slides.getToFreeFaster.2.headingContent"},bodyContent2:{id:"rewards.benefits.slides.getToFreeFaster.2.bodyContent"},headingContent3:{id:"rewards.benefits.slides.getToFreeFaster.3.headingContent"},bodyContent3:{id:"rewards.benefits.slides.getToFreeFaster.3.bodyContent"}});var F=(0,c.vU)({header:{id:"rewards.benefits.heading"},description:{id:"rewards.benefits.description"},benefit1Heading:{id:"rewards.benefits.benefit1Heading"},benefit1Description:{id:"rewards.benefits.benefit1Description"},benefit1CtaDescription:{id:"rewards.benefits.benefit1CtaDescription"},benefit2Heading:{id:"rewards.benefits.benefit2Heading"},benefit2Description:{id:"rewards.benefits.benefit2Description"},benefit2CtaDescription:{id:"rewards.benefits.benefit2CtaDescription"},benefit3Heading:{id:"rewards.benefits.benefit3Heading"},benefit3Description:{id:"rewards.benefits.benefit3Description"},benefit3CtaDescription:{id:"rewards.benefits.benefit3CtaDescription"}}),B=r(6159),j=r(50744);const V="Rewards",q=(e,t)=>{(0,j.L9)(V,e,{displayName:t})},z="Promotional Offer Opt-In",G="Rewards",W=()=>(0,j.L9)(G,"Your account Link - click"),Z=()=>(0,j.L9)(G,"Place an order Link - click"),Q="Rewards LP - Benefits",Y={showSwipeDeck:A.$T,hideSwipeDeck:A.J1};var $=(0,E.$j)(null,Y)((0,c.XN)((e=>{let{showSwipeDeck:t,hideSwipeDeck:r,intl:{formatMessage:a}}=e;const n={onCancel:r,confirmButtonText:a(B.y.ok),confirmButtonProps:{onClick:()=>{q("Ok Button - click",Q),r()}}},i=e=>{q("Learn more Link - click",Q),t({slideData:e,props:n})},o=e=>{let{slideData:t,ariaLabel:r}=e;return l.createElement(p.default,{className:"my3 color-greenStarbucks",onClick:()=>i(t),visualStyle:"textLink"},l.createElement(c._H,B.y.learnMore),l.createElement("span",{className:"hiddenVisually"},r))},s=(e=>[{imageUrl:"".concat(I,"/rewards/benefits/1A.jpg"),imageLoaderProps:{role:"presentation",alt:""},headingContent:e(x.headingContent1),bodyContent:e(x.bodyContent1)},{imageUrl:"".concat(I,"/rewards/benefits/1B.jpg"),imageLoaderProps:{role:"presentation",alt:""},headingContent:e(x.headingContent2),bodyContent:e(x.bodyContent2)},{imageUrl:"".concat(I,"/rewards/benefits/1C.jpg"),imageLoaderProps:{role:"presentation",alt:""},headingContent:e(x.headingContent3),bodyContent:e(x.bodyContent3)}])(a),d=(e=>[{imageUrl:"".concat(I,"/rewards/benefits/2A.jpg"),imageLoaderProps:{role:"presentation",alt:""},headingContent:e(v.headingContent1),bodyContent:e(v.bodyContent1)},{imageUrl:"".concat(I,"/rewards/benefits/2B.jpg"),imageLoaderProps:{role:"presentation",alt:""},headingContent:e(v.headingContent2),bodyContent:e(v.bodyContent2)}])(a),m=(e=>[{imageUrl:"".concat(I,"/rewards/benefits/3A.jpg"),imageLoaderProps:{role:"presentation",alt:""},headingContent:e(M.headingContent1),bodyContent:e(M.bodyContent1)},{imageUrl:"".concat(I,"/rewards/benefits/3B.jpg"),imageLoaderProps:{role:"presentation",alt:""},headingContent:e(M.headingContent2),bodyContent:e(M.bodyContent2)},{imageUrl:"".concat(I,"/rewards/benefits/3C.jpg"),imageLoaderProps:{role:"presentation",alt:""},headingContent:e(M.headingContent3),bodyContent:e(M.bodyContent3)}])(a),u=[{imageUrl:"".concat(I,"/rewards/benefits/1-fun-freebies.jpg"),imageAlt:"",imageProps:{role:"presentation"},onImageClick:()=>i(s),heading:l.createElement(c._H,F.benefit1Heading),description:l.createElement(c._H,F.benefit1Description),ctas:o({slideData:s,ariaLabel:a(F.benefit1CtaDescription)})},{imageUrl:"".concat(I,"/rewards/benefits/2-order-and-pay-ahead.jpg"),imageAlt:"",imageProps:{role:"presentation"},onImageClick:()=>i(d),heading:l.createElement(c._H,F.benefit2Heading),description:l.createElement(c._H,F.benefit2Description),ctas:o({slideData:d,ariaLabel:a(F.benefit2CtaDescription)})},{imageUrl:"".concat(I,"/rewards/benefits/3-get-to-free-faster.jpg"),imageAlt:"",imageProps:{role:"presentation"},onImageClick:()=>i(m),heading:l.createElement(c._H,F.benefit3Heading),description:l.createElement(c._H,F.benefit3Description),ctas:o({slideData:m,ariaLabel:a(F.benefit3CtaDescription)})}];return l.createElement(g.Z,{className:"sb-global-gutters--maxWidthLayout",size:"xl"},l.createElement(N,{content:u,header:{heading:l.createElement(c._H,F.header),subHeading:l.createElement(c._H,F.description)}}))}))),J=(0,c.vU)({header:{id:"rewards.gettingStarted.header"},subHeading:{id:"rewards.gettingStarted.subHeading"},heading1:{id:"rewards.gettingStarted.subHeading1"},heading2:{id:"rewards.gettingStarted.subHeading2"},heading3:{id:"rewards.gettingStarted.subHeading3"},body1:{id:"rewards.gettingStarted.body1"},body2:{id:"rewards.gettingStarted.body2"},body3:{id:"rewards.gettingStarted.body3"},desktopHeading1:{id:"rewards.gettingStarted.desktopSubHeading1"},desktopBody1:{id:"rewards.gettingStarted.desktopBody1"},joinInAppCTA:{id:"rewards.gettingStarted.joinInAppCTA"},joinOnlineCTA:{id:"rewards.gettingStarted.joinOnlineCTA"},joinNowCTA:{id:"rewards.gettingStarted.joinNowCTA"},learnHowCTA:{id:"rewards.gettingStarted.learnHow"}}),K=(0,E.$j)((e=>({appDownloadLink:e.config.appDownloadLink})))((e=>{let{lowercase:t=!1,appDownloadLink:r,trackingDisplayName:a}=e;return l.createElement("a",{className:"color-greenDarkApron",href:r,onClick:()=>q("Join in app Link - click",a),style:t?{textTransform:"lowercase"}:null},l.createElement(c._H,J.joinInAppCTA))})),X=(0,E.$j)((e=>({isMobileViewport:(0,s.fe)(e)})))((e=>{let{isMobileViewport:t,trackingDisplayName:r}=e;const a=t?50:149;return l.createElement("a",{className:"color-greenDarkApron",href:L,onClick:()=>{q("Learn more link - Click",r);const e=document.getElementById(U);k(e,a)}},l.createElement(c._H,J.learnHowCTA))}));function ee(){return ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ee.apply(this,arguments)}const te=e=>({imageUrl:"".concat(I,"/rewards/getting-started/getting-started-2@2x.jpg"),imageAlt:"",heading:l.createElement(c._H,J.heading2),description:l.createElement(c._H,ee({},J.body2,{values:{learnHow:l.createElement(X,{trackingDisplayName:e})}}))}),re=()=>({imageUrl:"".concat(I,"/rewards/getting-started/getting-started-3@2x.jpg"),imageAlt:"",heading:l.createElement(c._H,J.heading3),description:l.createElement(c._H,J.body3)}),ae="Rewards LP - Getting Started";var ne=(0,E.$j)((e=>({isMobileViewport:(0,s.td)(e)})))((e=>{let{isMobileViewport:t}=e;const r=t?(e=>[{imageUrl:"".concat(I,"/rewards/getting-started/getting-started-1@2x.jpg"),imageAlt:"",heading:l.createElement(c._H,J.heading1),description:l.createElement(c._H,ee({},J.body1,{values:{joinInApp:l.createElement(K,{trackingDisplayName:e}),joinOnline:l.createElement("a",{className:"color-greenDarkApron",href:"/account/create",onClick:()=>q("Join now Link - click",e)},l.createElement(c._H,J.joinOnlineCTA))}}))},te(e),re()])(ae):(e=>[{imageUrl:"".concat(I,"/rewards/getting-started/getting-started-1@2x.jpg"),imageAlt:"",heading:l.createElement(c._H,J.desktopHeading1),description:l.createElement(c._H,ee({},J.desktopBody1,{values:{joinInApp:l.createElement(K,{lowercase:!0,trackingDisplayName:e}),joinNow:l.createElement("a",{className:"color-greenDarkApron",href:"/account/create",onClick:()=>q("Join now Link - click",e)},l.createElement(c._H,J.joinNowCTA))}}))},te(e),re()])(ae);return l.createElement(g.Z,{className:"sb-global-gutters--maxWidthLayout",size:"xl"},l.createElement(N,{content:r,header:{heading:l.createElement(c._H,J.header),subHeading:l.createElement(c._H,J.subHeading)}}))})),ie=r(8756),oe=r(43318),se=r(55761),le=r(20573);const ce=e=>e.config,de=(0,le.P1)(ce,(e=>e.appDownloadLink)),me=(0,le.P1)(ce,(e=>e.mobileAppsLandingPageUrl)),ue=(0,le.P1)(ce,(e=>e.commonQuestionsUrl)),Ee=(0,le.P1)(ce,(e=>e.mobileUseGradient)),pe=(0,le.P1)(ce,(e=>e.mobileMenuBranchLink));var ge=(0,c.vU)({header:{id:"rewards.hero.header"},body:{id:"rewards.hero.body"},mobileCta1:{id:"rewards.hero.mobileCta1"},mobileCta2:{id:"rewards.hero.mobileCta2"},desktopCta1:{id:"rewards.hero.desktopCta1"},desktopCta2:{id:"rewards.hero.desktopCta2"},forTheBestExperience:{id:"rewards.hero.forTheBestExperience"}});function fe(){return fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fe.apply(this,arguments)}const Ce="Rewards LP - Hero";var be=(0,E.$j)((e=>({appDownloadLink:de(e),imageBaseUrl:(0,se.ah)(e),mobileAppsLandingPageUrl:me(e),mobileUseGradient:Ee(e)})))((0,c.XN)((e=>{let{appDownloadLink:t,imageBaseUrl:r,intl:{formatMessage:a},mobileAppsLandingPageUrl:n,mobileUseGradient:i}=e;const o=l.createElement("p",null,l.createElement("span",null,l.createElement(c._H,ge.body))),s={heading:l.createElement(c._H,fe({},ge.header,{values:{newLine:l.createElement("br",null)}})),body:o,backgroundColor:ie.variables.colorGreenLight,backgroundUrl:"".concat(r,"/rewards/hero/hero-mobile_2021.jpg"),cta1:{href:t,children:a(ge.mobileCta1),onClick:()=>q("Join in app Link - click",Ce)},cta2:{href:"/account/create",children:a(ge.mobileCta2),onClick:()=>q("Join now Link - click",Ce)},useGradientMask:i},d={heading:l.createElement(c._H,fe({},ge.header,{values:{newLine:l.createElement("br",null)}})),body:o,backgroundColor:ie.variables.colorGreenLight,backgroundUrl:"".concat(r,"/rewards/hero/xl-hero-desktop_2021.png"),cta1:{href:"/account/create",children:a(ge.desktopCta1),onClick:()=>q("Join now Link - click",Ce)},cta2:{tagName:"span",className:"text-noUnderline",children:l.createElement(c._H,fe({},ge.forTheBestExperience,{values:{joinLink:l.createElement("a",{className:"color-textBlack",href:n,onClick:()=>q("Join in app Link - click",Ce)},a(ge.desktopCta2))}}))}};return l.createElement(oe.Z,{desktop:{...d},mobile:{...s}})}))),_e=r(79723),we=(0,E.$j)((e=>({appDownloadLink:e.config.appDownloadLink})))((e=>{let{appDownloadLink:t}=e;return l.createElement("div",{className:"".concat("banner___3uwfJ"," bg-houseGreen")},l.createElement("div",{className:"sb-siteMaxWidth sb-global-gutters sb-global-gutters--logoOffset sb-global-gutters--maxWidthLayout flex items-center justify-between height-100 xxl-pl0"},l.createElement("p",{className:"color-textWhite text-xxs text-upper text-bold"},l.createElement(c._H,_e.i4.starbucksRewardsTrademark)),l.createElement(p.default,{className:"md-hidden whiteSpace-noWrap flex-shrink-none",color:"white",href:t,onClick:()=>q("Join in app Link - click","Rewards LP - Sticky Nav"),rel:"noopener noreferrer"},l.createElement(c._H,u.joinInAppCTA))))})),Te=r(55034),ye=e=>{let{textColorClassName:t="color-gold",textSizeClassName:r="text-sm"}=e;return l.createElement("span",{"aria-hidden":!0,className:"".concat(t," ").concat(r)},"★")},he="tabContentSection___O_dDV",Re=e=>{let{body:t,header:r,imageAlt:a,imageUrl:n}=e;return l.createElement("div",{className:"md-py5 md-flex justify-center items-center ".concat("tabContent___1Cw_F")},l.createElement("div",{className:"md-mr7 py5 md-py0 flex-grow ".concat(he)},l.createElement(w.default,{alt:a,className:"tabContentImage___27sfm",src:n,wrapInFlex:{enabled:!0,width:16,height:9}})),l.createElement("div",{className:"px3 flex-grow ".concat(he)},l.createElement(b.default,{className:"text-md text-semibold pb3 ".concat("tabContentHeader___2nxiN"),tagName:"h4"},r),l.createElement("p",{className:"text-center md-text-left"},t)))};const Ne=(0,c.vU)({header:{id:"rewards.rewardTiers.header"}}),Ae=(0,c.vU)({tab1Title:{id:"rewards.rewardTiers.tab1.title"},tab1Header:{id:"rewards.rewardTiers.tab1.header"},tab1Content:{id:"rewards.rewardTiers.tab1.content"},tab2Title:{id:"rewards.rewardTiers.tab2.title"},tab2Header:{id:"rewards.rewardTiers.tab2.header"},tab2Content:{id:"rewards.rewardTiers.tab2.content"},tab3Title:{id:"rewards.rewardTiers.tab3.title"},tab3Header:{id:"rewards.rewardTiers.tab3.header"},tab3Content:{id:"rewards.rewardTiers.tab3.content"},tab4Title:{id:"rewards.rewardTiers.tab4.title"},tab4Header:{id:"rewards.rewardTiers.tab4.header"},tab4Content:{id:"rewards.rewardTiers.tab4.content"},tab5Title:{id:"rewards.rewardTiers.tab5.title"},tab5Header:{id:"rewards.rewardTiers.tab5.header"},tab5Content:{id:"rewards.rewardTiers.tab5.content"}});var Oe=Ne;function He(){return He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},He.apply(this,arguments)}var Se=(0,E.$j)((e=>({locale:e.locale})))((e=>{let{locale:t}=e;const r=(e=>{const t="en-US"===e;return[{imageUrl:"".concat(I,"/rewards/reward-tiers/025.png"),imageAlt:"image for tab 1",tabContentHeaderMessage:Ae.tab1Header,tabContentBodyMessage:Ae.tab1Content,tabTitleMessage:Ae.tab1Title},{imageUrl:"".concat(I,"/rewards/reward-tiers/050.png"),imageAlt:"image for tab 2",tabContentHeaderMessage:Ae.tab2Header,tabContentBodyMessage:Ae.tab2Content,tabTitleMessage:Ae.tab2Title},{imageUrl:"".concat(I,"/rewards/reward-tiers/150.png"),imageAlt:"image for tab 3",tabContentHeaderMessage:Ae.tab3Header,tabContentBodyMessage:Ae.tab3Content,tabTitleMessage:Ae.tab3Title},{imageUrl:"".concat(I,t?"/rewards/reward-tiers/200.png":"/rewards/reward-tiers/250.png"),imageAlt:"image for tab 4",tabContentHeaderMessage:Ae.tab4Header,tabContentBodyMessage:Ae.tab4Content,tabTitleMessage:Ae.tab4Title},{imageUrl:"".concat(I,"/rewards/reward-tiers/400.png"),imageAlt:"image for tab 5",tabContentHeaderMessage:Ae.tab5Header,tabContentBodyMessage:Ae.tab5Content,tabTitleMessage:Ae.tab5Title}]})(t);return l.createElement("div",{className:"sb-global-gutters pt7 md-mb7 px0 text-center bg-greenLightSecondary"},l.createElement("div",{className:"px3"},l.createElement(b.default,{className:"text-semibold pb3 md-pb7",size:"lg",tagName:"h2"},l.createElement(c._H,Oe.header))),l.createElement(Te.ZP,null,l.createElement(Te.td,{className:"size12of12 mx-auto ".concat("tabList___1au0Q")},r.map(((e,t)=>l.createElement(Te.OK,{key:"reward-tiers-tab-".concat(t)},l.createElement(b.default,{className:"text-semibold flex-grow",size:"md",tagName:"h3"},l.createElement(c._H,He({},e.tabTitleMessage,{values:{starIcon:l.createElement(ye,{textSizeClassName:"text-xs"})}}))))))),l.createElement(Te.mx,{className:"bg-greenLight pb7 md-pb0"},r.map(((e,t)=>l.createElement(Te.x4,{key:"reward-tiers-tab-panel-".concat(t)},l.createElement(Re,{body:l.createElement(c._H,e.tabContentBodyMessage),header:l.createElement(c._H,e.tabContentHeaderMessage),imageAlt:e.imageAlt,imageUrl:e.imageUrl})))))))})),De=r(93964),Pe=()=>l.createElement(g.Z,{className:"sb-global-gutters--maxWidthLayout",size:"xl"},l.createElement("div",{className:"md-offset2of12 md-size6of12"},l.createElement(De.Z,null))),Ie=r(12634),Ue=r(72135),Le=(0,c.vU)({header:{id:"rewards.waysToPay.heading"},description:{id:"rewards.waysToPay.description"},upToXStars:{id:"rewards.waysToPay.upToXStars"},payAsYouGo:{id:"rewards.waysToPay.payAsYouGo"},perDollar:{id:"rewards.waysToPay.perDollar"},addFunds:{id:"rewards.waysToPay.addFunds"},withVisa:{id:"rewards.waysToPay.withVisa"},waysToCollect1Heading1:{id:"rewards.waysToPay.waysToCollect1Heading1"},waysToCollect1Description1:{id:"rewards.waysToPay.waysToCollect1Description1"},waysToCollect1Heading2:{id:"rewards.waysToPay.waysToCollect1Heading2"},waysToCollect1Description2:{id:"rewards.waysToPay.waysToCollect1Description2"},waysToCollect2Heading1:{id:"rewards.waysToPay.waysToCollect2Heading1"},waysToCollect2Description1:{id:"rewards.waysToPay.waysToCollect2Description1"},waysToCollect2Heading2:{id:"rewards.waysToPay.waysToCollect2Heading2"},waysToCollect2Description2:{id:"rewards.waysToPay.waysToCollect2Description2"},waysToCollect3Heading1:{id:"rewards.waysToPay.waysToCollect3Heading1"},waysToCollect3Description1:{id:"rewards.waysToPay.waysToCollect3Description1"},creditCard:{id:"rewards.waysToPay.creditCard"},creditLabel:{id:"rewards.waysToPay.creditLabel"}}),ke=e=>{let{cards:t=[],starCount:r,subHeader:a}=e;return l.createElement("div",{className:"grid"},r&&l.createElement("div",{className:"gridItem size12of12 lg-size2of12 pb5 lg-pb0"},l.createElement("p",{className:"text-semibold text-md"},r,l.createElement(ye,{textColorClassName:"color-black",textSizeClassName:"text-sm"}),l.createElement("span",{className:"hiddenVisually"},1===r?l.createElement(c._H,_e.i4.star):l.createElement(c._H,_e.i4.stars))," ",l.createElement("span",null,l.createElement(c._H,Le.perDollar))),a&&l.createElement("p",null,a)),t.map(((e,t)=>l.createElement("div",{className:"gridItem pb5 md-pb0 size12of12 md-size6of12 lg-size5of12 xl-size4of12",key:"way-to-collect-content-block-".concat(t)},l.createElement(h,{containerClasses:"flex md-pr2 lg-px4",ctas:e.ctas,description:e.description,headingProps:{message:e.heading,tagName:"h3"},imageAlt:e.imageAlt,imageUrl:e.imageUrl,subHeading:e.subHeading})))))};function xe(){return xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xe.apply(this,arguments)}var ve={starCount:1,subHeader:l.createElement(c._H,Le.payAsYouGo),cards:[{imageUrl:"".concat(I,"/rewards/ways-to-pay/1A.png"),imageAlt:"",heading:l.createElement(c._H,xe({},Le.waysToCollect1Heading1,{values:{starIcon:l.createElement(ye,null)}})),description:l.createElement(c._H,Le.waysToCollect1Description1)},{imageUrl:"".concat(I,"/rewards/ways-to-pay/1B.png"),imageAlt:"",heading:l.createElement(c._H,xe({},Le.waysToCollect1Heading2,{values:{starIcon:l.createElement(ye,null)}})),description:l.createElement(c._H,Le.waysToCollect1Description2)}]};function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Me.apply(this,arguments)}var Fe={starCount:2,subHeader:l.createElement(c._H,Le.addFunds),cards:[{imageUrl:"".concat(I,"/rewards/ways-to-pay/2A.png"),imageAlt:"",heading:l.createElement(c._H,Me({},Le.waysToCollect2Heading1,{values:{starIcon:l.createElement(ye,null)}})),description:l.createElement(c._H,Me({},Le.waysToCollect2Description1,{values:{newLine:l.createElement(l.Fragment,null,l.createElement("br",null),l.createElement("br",null))}}))},{imageUrl:"".concat(I,"/rewards/ways-to-pay/2B.png"),imageAlt:"",heading:l.createElement(c._H,Me({},Le.waysToCollect2Heading2,{values:{starIcon:l.createElement(ye,null)}})),description:l.createElement(c._H,Me({},Le.waysToCollect2Description2,{values:{starIcon:l.createElement(ye,null)}}))}]},Be=r(73838);function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},je.apply(this,arguments)}var Ve={starCount:3,subHeader:l.createElement(c._H,Le.withVisa),cards:[{imageUrl:"".concat(I,"/rewards/ways-to-pay/3A.png"),imageAlt:"",heading:l.createElement(c._H,Le.waysToCollect3Heading1),description:l.createElement(c._H,je({},Le.waysToCollect3Description1,{values:{creditCardLink:l.createElement(Be.Z,{className:"color-greenStarbucks",href:"/starbucks-rewards/credit-card"},l.createElement(c._H,Le.creditCard))}}))}]},qe=(0,E.$j)((e=>({showVisaBenefits:"en-US"===e.locale,isWaysToPayHash:(0,Ue.B6)(e)===L,isMobileViewport:(0,s.fe)(e)})))((e=>{let{showVisaBenefits:t,isWaysToPayHash:r,isMobileViewport:a}=e;(0,l.useEffect)((()=>{if(r){const e=a?50:149;setTimeout((()=>{const t=document.getElementById(U);k(t,e)}),0)}}),[]);const n=t?[ve,Fe,Ve]:[ve,Fe];return l.createElement("div",{className:"bg-cream",id:U},l.createElement(g.Z,{className:"sb-global-gutters--maxWidthLayout py7",size:"xl"},l.createElement("div",{className:"mb3 lg-mb4 pb7 md-pb9 md-offset2of12 md-size8of12 lg-offset3of12 lg-size6of12 text-center"},l.createElement(b.default,{className:"pt4 md-pt0 pb3 text-semibold",size:"lg",tagName:"h2"},l.createElement(c._H,Le.header)),l.createElement("p",null,l.createElement(c._H,Le.description))),n.map(((e,t,r)=>l.createElement(l.Fragment,{key:t},l.createElement(ke,{cards:e.cards,starCount:e.starCount,subHeader:e.subHeader}),t<r.length-1&&l.createElement(Ie.default,{className:"pt3 pb6 md-pt4 md-pb7",weight:"thin"}))))))})),ze=(0,c.vU)({mainHeader:{id:"rewards.questions.mainHeader"},mainDescription:{id:"rewards.questions.mainDescription"},mainBody:{id:"rewards.questions.mainBody"},rightOverHere:{id:"rewards.questions.rightOverHere"},question1Header:{id:"rewards.questions.question1Header"},question1Description1:{id:"rewards.questions.question1Description1"},question1Description2:{id:"rewards.questions.question1Description2"},question1Description3:{id:"rewards.questions.question1Description3"},question2Header:{id:"rewards.questions.question2Header"},question2Description:{id:"rewards.questions.question2Description"},question3Header:{id:"rewards.questions.question3Header"},question3Description:{id:"rewards.questions.question3Description"},question4Header:{id:"rewards.questions.question4Header"},question4Description1:{id:"rewards.questions.question4Description1"},question4Description2:{id:"rewards.questions.question4Description2"},question4Description3:{id:"rewards.questions.question4Description3"},starbucksStoreLocator:{id:"rewards.questions.starbucksStoreLocator"},question4Description4:{id:"rewards.questions.question4Description4"},termsLinkUrlText:{id:"rewards.questions.termsLinkUrlText"}});function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ge.apply(this,arguments)}var We=(0,E.$j)((e=>({commonQuestionsUrl:ue(e)})))((e=>{let{commonQuestionsUrl:t}=e;const r=l.createElement(Be.Z,{className:"color-greenDarkApron",href:t},l.createElement(c._H,ze.rightOverHere));return l.createElement(g.Z,{className:"sb-global-gutters--maxWidthLayout",size:"xl"},l.createElement("div",{className:"md-offset2of12 md-size6of12"},l.createElement(b.default,{className:"text-semibold text-lg pb3",tagName:"h2"},l.createElement(c._H,ze.mainHeader)),l.createElement("p",{className:"pb3"},l.createElement(c._H,Ge({},ze.mainDescription,{values:{rightOverHereLink:r}})))))}));function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ze.apply(this,arguments)}var Qe=r(88643),Ye=(0,E.$j)((e=>({rewardsTermsUrl:(0,Qe.dj)(e),locale:e.locale})))((e=>{let{rewardsTermsUrl:t,locale:r}=e;const a=(e=>{let{locale:t,rewardsTermsUrl:r}=e;const a="en-US"===t;return[{header:l.createElement(c._H,ze.question1Header),descriptions:[l.createElement(c._H,ze.question1Description1),l.createElement(c._H,ze.question1Description2),l.createElement(c._H,ze.question1Description3)]},{header:l.createElement(c._H,ze.question4Header),descriptions:a?[l.createElement(c._H,Ze({},ze.question4Description1,{values:{rewardsTermsUrl:l.createElement(Be.Z,{className:"color-greenDarkApron",href:r},l.createElement(c._H,ze.termsLinkUrlText))}})),l.createElement(c._H,ze.question4Description2),l.createElement(c._H,Ze({},ze.question4Description3,{values:{storeLocatorLink:l.createElement(Be.Z,{className:"color-greenDarkApron",href:"/store-locator"},l.createElement(c._H,ze.starbucksStoreLocator))}})),l.createElement(c._H,ze.question4Description4)]:[l.createElement(c._H,Ze({},ze.question4Description1,{values:{rewardsTermsUrl:l.createElement(Be.Z,{className:"color-greenDarkApron",href:r},l.createElement(c._H,ze.termsLinkUrlText))}}))]},{header:l.createElement(c._H,ze.question3Header),descriptions:[l.createElement(c._H,ze.question3Description)]},{header:l.createElement(c._H,ze.question2Header),descriptions:[l.createElement(c._H,ze.question2Description)]}]})({locale:r,rewardsTermsUrl:t});return l.createElement("div",{className:"bg-grayNatural"},l.createElement(g.Z,{className:"sb-global-gutters--maxWidthLayout",size:"xl"},l.createElement("div",{className:"py5 md-py7 grid"},l.createElement("p",{className:"text-xxs pb5"},l.createElement(c._H,ze.mainBody)),a.map(((e,t)=>{let{header:r,descriptions:n}=e;return l.createElement("div",{className:C()("size12of12 md-size6of12 gridItem",{pb5:t!==a.length-1,"md-pb0":t>1,"md-pl5":t%2!=0}),key:"questions-list-item-".concat(t)},l.createElement(b.default,{className:"pb3 text-bold text-upper color-textBlackSoft",size:"xxs",tagName:"h3"},r),n&&n.length?n.map(((e,r)=>l.createElement("p",{className:C()("text-xxs",{pb3:r!==n.length-1}),key:"questions-".concat(t,"-description-").concat(r)},e))):null)})))))})),$e="sectionMargins___ajEho",Je=(0,c.XN)((e=>{let{className:t,intl:{formatMessage:r}}=e;return l.createElement(l.Fragment,null,l.createElement(d.q,null,l.createElement("title",null,r(u.title)),l.createElement("meta",{content:r(u.rewardsDescription),property:"description"})),l.createElement(m.Z,{className:t},l.createElement(we,null),l.createElement("div",{className:$e},l.createElement(be,null)),l.createElement("div",{className:$e},l.createElement(ne,null)),l.createElement("div",{className:$e},l.createElement(Se,null)),l.createElement("div",{className:$e},l.createElement($,null)),l.createElement("div",{className:$e},l.createElement(qe,null)),l.createElement("div",{className:$e},l.createElement(Pe,null)),l.createElement("div",{className:$e},l.createElement(We,null)),l.createElement("div",{className:"mb7"},l.createElement(Ye,null))))})),Ke=r(85216),Xe=r(29644),et=r(88192),tt=r(24661),rt=r(1551),at=(0,c.vU)({youreInHeader:{id:"rewards.optIn.youreInHeader"},youreInBody1:{id:"rewards.optIn.youreInBody1"},youreInBody2:{id:"rewards.optIn.youreInBody2"},alreadyPlayingHeader:{id:"rewards.optIn.alreadyPlayingHeader"},alreadyPlayingActiveBody1:{id:"rewards.optIn.alreadyPlayingActiveBody1"},alreadyPlayingSelectedBody1:{id:"rewards.optIn.alreadyPlayingSelectedBody1"},alreadyPlayingBody2:{id:"rewards.optIn.alreadyPlayingBody2"},expiredHeader:{id:"rewards.optIn.expiredHeader"},expiredBody1:{id:"rewards.optIn.expiredBody1"},expiredBody2:{id:"rewards.optIn.expiredBody2"},expiredCta1:{id:"rewards.optIn.expiredCta1"},expiredCta2:{id:"rewards.optIn.expiredCta2"},errorBody1:{id:"rewards.optIn.errorBody1"},errorBody2:{id:"rewards.optIn.errorBody2"},disclaimer:{id:"rewards.optIn.disclaimer"},copyright:{id:"rewards.optIn.copyright"},svcTerms:{id:"rewards.optIn.svcTerms"},rewardsTerms:{id:"rewards.optIn.rewardsTerms"},privacyStatement:{id:"rewards.optIn.privacyStatement"}});const nt=e=>{let{isMobileViewport:t,imageBaseUrl:r,rewardsTermsUrl:a,cardTermsUrl:n,privacyStatementUrl:i,mobileMenuBranchLink:o,imgPath:s,headingText:d,body1Text:m,body2Text:u,cta1Text:E,cta2Text:g,imgWidth:f,imgHeight:C}=e;const _=l.createElement(Xe.default,{path:et.default});let T=null;E&&(T=t?l.createElement(p.default,{className:"mt5 mb3",href:o,onClick:()=>q("Order in app Link - click"),target:"_blank",visualStyle:"positive"},l.createElement(c._H,E)):l.createElement(p.default,{className:"mt5 mb3",href:"/menu",onClick:()=>q("Order now Link - click"),visualStyle:"positive"},l.createElement(c._H,E)));const y=g?l.createElement(l.Fragment,null,l.createElement("br",null),l.createElement(p.default,{href:"/menu",onClick:()=>q("Order now Link - click")},l.createElement(c._H,g))):null;return l.createElement(tt.Z,{size:"md"},l.createElement(w.default,{includeFallback:{enabled:!0,fallbackClassName:"bg-ceramic"},lazyLoad:{enabled:!1},role:"presentation",src:"".concat(r).concat(s),width:"".concat(f),wrapInFlex:{enabled:!0,width:f,height:C,constrainWidth:!0,flexEmbedWrapperClassName:"mt2 lg-mt9"}}),l.createElement(b.default,{className:"pt8 color-textBlackSoft text-bold text-upper",size:"xs",tagName:"h1"},l.createElement(rt.Z,null)),l.createElement(b.default,{className:"text-bold pt4 pb3",size:"xl",tagName:"h2"},l.createElement(c._H,d)),l.createElement("p",{className:"pb3 text-sm"},l.createElement(c._H,m)),u?l.createElement("p",{className:"text-sm"},l.createElement(c._H,u)):null,T,y,l.createElement(Ie.default,{className:"mt9 mb5"}),l.createElement("p",{className:"color-textBlackSoft text-xxs"},l.createElement(c._H,at.disclaimer)),l.createElement("p",{className:"color-textBlackSoft my3 text-xxs"},l.createElement(c._H,at.copyright)),l.createElement(Ke.default,{linkClassName:"color-textBlackSoft mb3 text-xxs",links:[{text:l.createElement(l.Fragment,null,l.createElement(c._H,at.svcTerms),_),href:n,tagName:"a",target:"_blank"},{text:l.createElement(l.Fragment,null,l.createElement(c._H,at.rewardsTerms),_),href:a,tagName:"a",target:"_blank"},{text:l.createElement(l.Fragment,null,l.createElement(c._H,at.privacyStatement),_),href:i,tagName:"a",target:"_blank"}]}))};nt.propTypes={};var it=(0,E.$j)((e=>({isMobileViewport:(0,s.td)(e),imageBaseUrl:(0,se.ah)(e),rewardsTermsUrl:(0,Qe.dj)(e),privacyStatementUrl:(0,Qe.Dx)(e),cardTermsUrl:(0,Qe.Hv)(e),mobileMenuBranchLink:pe(e)})))(nt),ot=(0,E.$j)((e=>({isMobileViewport:(0,s.td)(e)})))((e=>{let{isMobileViewport:t}=e;return(0,j.L9)(V,"Personalized offer expired opt in - error",{displayName:z}),l.createElement(it,{body1Text:at.expiredBody1,body2Text:at.expiredBody2,cta1Text:t?at.expiredCta1:at.expiredCta2,cta2Text:t?at.expiredCta2:null,headingText:at.expiredHeader,imgHeight:310,imgPath:"/rewards/offers/opt-in-expired.gif",imgWidth:310})})),st=r(41609),lt=r.n(st),ct=r(38205),dt=r(67035),mt=r(82232),ut=r(81069),Et=r(59810);const{REDEEM_PROMO:pt,REDEEM_PROMO_ERROR:gt,REDEEM_PROMO_SUCCESS:ft}=(0,Et.Z)(["REDEEM_PROMO"]);var Ct=r(14830);const bt=e=>e.rewards,_t=(0,le.P1)(a.Mb,(e=>{var t,r;return null==e||null===(t=e.universal)||void 0===t||null===(r=t.branch)||void 0===r?void 0:r.initCode})),wt=(0,le.P1)(a.Mb,(e=>{var t,r;return null==e||null===(t=e.universal)||void 0===t||null===(r=t.branch)||void 0===r?void 0:r.appKey})),Tt=(0,le.P1)(Ue.Eo,(e=>null==e?void 0:e._branch_match_id)),yt=(0,le.P1)(bt,(e=>e?e.loading?"loading":e.error?"error":e.permanentFail?"failed":e.data?"success":null:null)),ht=(0,le.P1)(bt,(e=>{var t;return!(null!=e&&e.data)&&(null==e||null===(t=e.error)||void 0===t?void 0:t.code)||null})),Rt=(0,le.P1)(bt,(e=>{var t,r;return(null==e||null===(t=e.data)||void 0===t||null===(r=t.redeemPromoCode)||void 0===r?void 0:r.message)||null}));var Nt=r(39701),At=r(36924),Ot=(0,c.vU)({successHeading:{id:"rewards.promoCodes.successHeading"},subHeading:{id:"rewards.promoCodes.subHeading"},successDescription:{id:"rewards.promoCodes.successDescription"},errorGeneric:{id:"rewards.promoCodes.errorGeneric"},errorInvalid:{id:"rewards.promoCodes.errorInvalid"},errorExpired:{id:"rewards.promoCodes.errorExpired"},errorTryAgain:{id:"rewards.promoCodes.errorTryAgain"},errorMarketingCardTitle:{id:"rewards.promoCodes.errorMarketingCardTitle"},errorMarketingCardDescription:{id:"rewards.promoCodes.errorMarketingCardDescription"},successMarketingCardTitle:{id:"rewards.promoCodes.successMarketingCardTitle"},successMarketingCardDescription:{id:"rewards.promoCodes.successMarketingCardDescription"},userAccountLink:{id:"rewards.promoCodes.userAccountLink"},placeOrderLink:{id:"rewards.promoCodes.placeOrderLink"}});function Ht(){return Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ht.apply(this,arguments)}const St=e=>{let{className:t,intl:{formatMessage:r},configImagesUrl:a,branchScript:n,branchAppKey:i,branchMatchId:o,promoUserData:s,redeemPromo:d,promoRedemptionStatus:E,promoErrorCode:g,coreAppBaseUrl:f,promoSuccessMessage:C}=e;const[_,T]=(0,l.useState)(!1),[y,h]=(0,l.useState)(!0),[R,N]=(0,l.useState)({}),[A,O]=(0,l.useState)("errorGeneric"),H=e=>{h(!1),T(!0),(0,At.J)("promocode-error",{error:e})};let S="";return R&&(S=(0,Nt.getCaseInsensitivePropertyValue)(R,"promocode")),(0,l.useEffect)((()=>{"success"!==E?"error"!==E&&"failed"!==E||(h(!1),T(!0),O((0,Nt.getErrorMessageByCode)(g))):h(!1)}),[E]),(0,l.useEffect)((()=>{o?(0,Nt.initializeBranch)({branchScript:n,branchAppKey:i,onSuccess:N,onFailure:e=>{H("Branch failed with error: ".concat(e))}}):H("No branch match ID")}),[]),(0,l.useEffect)((()=>{if(!s.loading&&!lt()(R))if(s.error)H("User data fetch error");else if(s.userSubMarket&&s.joinDate&&!lt()(R)){if(!(0,Nt.getUserEligibility)({promoUserData:s,branchData:R}))return void H("User is not eligible. Eligibility reqs: ".concat(JSON.stringify(R)));if(!S)return H("No promocode to redeem. Promocode: ".concat(S)),void O("errorInvalid");d({promoCodeString:S})}}),[R,s]),y?l.createElement(m.Z,{className:t},l.createElement(ct.Z,null)):(_?(D={promoCodeId:S},(0,j.L9)(G,"Promocode response page failure - view",D)):(e=>{(0,j.L9)(G,"Promocode response page success - view",e)})({promoCodeId:S}),l.createElement(m.Z,{className:t},l.createElement(tt.Z,{className:"text-center",size:"md"},l.createElement(w.default,{alt:"",includeFallback:{enabled:!0,fallbackClassName:"bg-ceramic"},lazyLoad:{enabled:!1},role:"presentation",src:"".concat(a,_?"/promo-codes/failure.png":"/promo-codes/success.png"),width:"232",wrapInFlex:{enabled:!0,width:232,height:232,constrainWidth:!0,flexEmbedWrapperClassName:"mb5 mx-auto"}}),l.createElement(b.default,{className:"text-bold pb3",size:"lg",tagName:"h1"},_?l.createElement(c._H,u.errorHeading):l.createElement(c._H,Ot.successHeading)),_?l.createElement("p",{className:"pb2 text-sm"},l.createElement(c._H,Ht({},Ot[A],{values:{lineBreak:l.createElement("br",null)}}))):l.createElement(l.Fragment,null,l.createElement("p",{className:"pb2 text-sm"},C||l.createElement(c._H,Ht({},Ot.subHeading,{values:{accountLink:l.createElement(p.default,{className:"color-greenStarbucks",href:f,onClick:W,visualStyle:"textLink"},l.createElement(c._H,Ot.userAccountLink)),placeOrderLink:l.createElement(p.default,{className:"color-greenStarbucks",href:"/menu",onClick:Z,visualStyle:"textLink"},l.createElement(c._H,Ot.placeOrderLink))}}))),l.createElement("p",{className:"color-textBlackSoft text-sm"},l.createElement(c._H,Ot.successDescription))),l.createElement(dt.Z,{bodyMessage:r(_?Ot.errorMarketingCardDescription:Ot.successMarketingCardDescription),buttonProps:{children:r(B.y.learnMore),href:"/rewards/mobile-apps","data-e2e":"LearnMorePromoCta",onClick:()=>(0,j.L9)(G,"Learn more Link - click")},className:"mt7",title:r(_?Ot.errorMarketingCardTitle:Ot.successMarketingCardTitle)}))));var D};St.displayName=St;var Dt=(0,E.$j)((e=>({configImagesUrl:(0,se.ah)(e),branchScript:_t(e),branchAppKey:wt(e),branchMatchId:Tt(e),promoUserData:(0,mt.vD)(e),promoRedemptionStatus:yt(e),promoErrorCode:ht(e),promoSuccessMessage:Rt(e),coreAppBaseUrl:(0,ut.f_)(e)})),{redeemPromo:e=>{let{promoCodeString:t}=e;return(e,r,a)=>{let{gqlFetch:n}=a;const i={operationId:Ct.REDEEM_PROMO_CODE,variables:{promoCode:t}};return e({type:pt}),n(i).then((t=>{e({type:ft,payload:t})})).catch((t=>{e({type:gt,error:t})}))}}})((0,c.XN)(St)),Pt=r(39681);const{initialState:It,reducer:Ut}=(0,Pt.Z)({startAction:pt});var Lt={name:"rewards",reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;return Ut(e,t)},routes:{"/rewards":{fullPageComponent:Je,fullWidthBottomDrawer:!0},"/rewards/promo/opt-in/active":{fullPageComponent:()=>((0,j.L9)(V,"Personalized offer duplicate opt in - success",{displayName:z}),l.createElement(it,{body1Text:at.alreadyPlayingActiveBody1,body2Text:at.alreadyPlayingBody2,headingText:at.alreadyPlayingHeader,imgHeight:223,imgPath:"/rewards/offers/opt-in-already-playing.gif",imgWidth:310}))},"/rewards/promo/opt-in/selected":{fullPageComponent:()=>((0,j.L9)(V,"Personalized PYG offer duplicate opt in - success",{displayName:z}),l.createElement(it,{body1Text:at.alreadyPlayingSelectedBody1,body2Text:at.alreadyPlayingBody2,headingText:at.alreadyPlayingHeader,imgHeight:223,imgPath:"/rewards/offers/opt-in-already-playing.gif",imgWidth:310}))},"/rewards/promo/opt-in/error":{fullPageComponent:()=>((0,j.L9)(V,"Personalized offer opt in - error",{displayName:z}),l.createElement(it,{body1Text:at.errorBody1,body2Text:at.errorBody2,headingText:u.errorHeading,imgHeight:255,imgPath:"/rewards/offers/error-robot.gif",imgWidth:320}))},"/rewards/promo/opt-in/expired":{fullPageComponent:ot},"/rewards/promo/opt-in/success":{fullPageComponent:()=>((0,j.L9)(V,"Personalized offer opt in - success",{displayName:z}),l.createElement(it,{body1Text:at.youreInBody1,body2Text:at.youreInBody2,headingText:at.youreInHeader,imgHeight:245,imgPath:"/rewards/offers/opt-in-success.gif",imgWidth:310}))},"/rewards/promo/redeem":{fullPageComponent:Dt,authRequired:!0}}};(0,a.R6)({apps:[Lt,o.ZP,s.ZP],nav:{globalNav:{component:i.Z,props:{useMaxWidthLayout:!0}},footerNav:{component:n.Z,props:{useMaxWidthLayout:!0}}}})},39701:function(e){const t=(e,t)=>{if(t&&e)return e[Object.keys(e).find((e=>e.toLowerCase()===t.toLowerCase()))]};e.exports={getCaseInsensitivePropertyValue:t,initializeBranch:e=>{let{branchScript:t,branchAppKey:r,onSuccess:a,onFailure:n}=e;if((()=>{const e=document.createElement("script");e.innerHTML=t,document.body.appendChild(e)})(),!branch)return n("Branch script failed to inject into the browser");branch.init(r,((e,t)=>e?n(e):a(t.data_parsed)))},getUserEligibility:e=>{let{promoUserData:r,branchData:a}=e;const{joinDate:n,userSubMarket:i}=r,o=t(a,"market"),s=t(a,"eligibilitydate"),l=Boolean(s)&&isNaN(Date.parse(s)),c=Boolean(s)&&Date.parse(s)>Date.parse(n),d=Boolean(o)&&o!==i;return!(l||c||d)},getErrorMessageByCode:e=>{switch(e){case 1008:case 1010:case 1100:default:return"errorGeneric";case 1002:case 1009:return"errorInvalid";case 1003:case 1004:case 1005:case 1007:return"errorExpired";case 1006:return"errorTryAgain"}}}},14830:function(e){"use strict";e.exports={REDEEM_PROMO_CODE:"redeem-promo-code"}},68046:function(e,t,r){"use strict";r.d(t,{zV:function(){return a},LU:function(){return n},Dg:function(){return i},fs:function(){return o},M3:function(){return s},U7:function(){return l},or:function(){return c},lc:function(){return d},cR:function(){return m},Hw:function(){return u},g2:function(){return E},mw:function(){return p},Wi:function(){return g},tT:function(){return f},SD:function(){return C},iV:function(){return b},cn:function(){return _},r4:function(){return w},CY:function(){return T},DP:function(){return y},sg:function(){return h},Wj:function(){return R},Bb:function(){return N},q:function(){return A},vv:function(){return O},vG:function(){return H},pN:function(){return S},iQ:function(){return D},Pw:function(){return P},QS:function(){return I},v0:function(){return U},Th:function(){return L},PV:function(){return k},Ff:function(){return x},B:function(){return v}});const a="SET_URL_STATE",n="COLLAPSE_EXPANDED_STORE",i="REQUEST_LOCATIONS",o="REQUEST_LOCATIONS_SUCCESS",s="REQUEST_LOCATIONS_ERROR",l="UPDATE_LOCATIONS",c="UPDATE_LOCATIONS_NEAR_STORE",d="SELECT_LOCATION",m="FETCH_ERROR",u="SET_PLACE_NAME",E="PLACE_NAME_NOT_FOUND",p="HIGHLIGHT_LOCATION",g="UNHIGHLIGHT_LOCATION",f="FETCH_AT_PLACENAME",C="SET_TRANSPORT_METHOD",b="TRAVEL_TIME_PENDING",_="TRAVEL_TIME_SUCCESS",w="TRAVEL_TIME_FAILURE",T="FAVORITE_LOCATION_PENDING",y="FAVORITE_LOCATION_SUCCESS",h="FAVORITE_LOCATION_FAILURE",R="SET_MAP_INSTANCE",N="MOVE_MAP",A="REQUEST_NEAREST_LOCATION",O="REQUEST_NEAREST_LOCATION_SUCCESS",H="REQUEST_NEAREST_LOCATION_ERROR",S="NEAREST_LOCATION_NOT_FOUND",D="SET_FEATURES",P="CLEAR_SELECTED_FEATURES",I="SELECT_STORE_MENU",U="CONFIRM_STORE_MENU",L="CLEAR_STORE_MENU",k="CLEAR_STORE_CONFIRMATION",x="OPEN_FILTER_OVERLAY",v="CLOSE_FILTER_OVERLAY"},98374:function(){},25353:function(){},7116:function(){}},function(e){e.O(0,[1493,3712,6202,4736,5514],(function(){return 52186,e(e.s=52186)})),e.O()}]);
//# sourceMappingURL=rewards.48a9c21e6a22c6eaf0b7.js.map